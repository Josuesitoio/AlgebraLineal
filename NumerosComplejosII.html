<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Números Complejos II - Operaciones</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
/* =========================================
   ESTILOS CSS (Heredados del Tema I)
   ========================================= */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px) scale(0.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes fadeInContent {
  from { opacity: 0; transform: translateY(15px); }
  to   { opacity: 1; transform: translateY(0); }
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Montserrat', sans-serif;
  color: #f5f5f7;
  background-color: #0d0c1b;
  padding: 50px 20px;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  min-height: 100vh;
  overflow-y: auto;
  background-image:
    radial-gradient(circle 800px at 10% 20%, #9b5de5 0%, transparent 40%),
    radial-gradient(circle 700px at 90% 80%, #0a84ff 0%, transparent 40%),
    radial-gradient(circle 600px at 30% 70%, #ff1493 0%, transparent 40%),
    conic-gradient(from 180deg at 50% 50%, rgba(255,255,255,0.05) 0deg, transparent 360deg);
  background-attachment: fixed;
  background-size: 150% 150%;
}

:root{
  --bg-base: #0d0c1b;
  --card: rgba(28,28,30,0.94);
  --text: #f5f5f7;
  --muted: #b6b6bb;
  --accent1: #9b5de5;
  --accent2: #0a84ff;
  --border-color: rgba(255,255,255,0.12);
  --code-bg: #151516;
}

/* Layout Principal */
.sheet {
  width: min(1400px, 96vw);
  background: var(--card);
  border-radius: 30px;
  padding: 40px;
  backdrop-filter: blur(18px) saturate(170%);
  border: 1px solid var(--border-color);
  animation: fadeIn 0.9s cubic-bezier(.2,.8,.2,1) both;
  margin-bottom: 50px;
}

.header { text-align: center; margin-bottom: 36px; border-bottom: 1px solid var(--border-color); padding-bottom: 20px; }
.title { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 3vw, 3.2rem); margin: 0; }
.subtitle { color: var(--muted); font-style: italic; margin-top: 10px; }

.page-layout { display: grid; grid-template-columns: 260px 1fr; gap: 45px; }

/* Sidebar */
.sidebar { position: sticky; top: 40px; }
.sidebar-nav { list-style: none; padding: 0; }
.sidebar-nav a {
  display: block; padding: 12px 14px; text-decoration: none; color: var(--muted);
  font-weight: 600; border-radius: 10px; transition: 0.2s;
  border: 1px solid transparent; margin-bottom: 5px;
}
.sidebar-nav a:hover { background: rgba(255,255,255,0.05); color: white; }
.sidebar-nav a.active { color: var(--accent1); background: rgba(155,93,229,0.15); border-color: rgba(155,93,229,0.3); }

/* Contenido */
.content-section { display: none; }
.content-section.active { display: block; animation: fadeInContent 0.6s ease; }
h2 { font-family: 'Playfair Display', serif; color: var(--accent1); border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }
h3 { color: var(--text); margin-top: 30px; }
p, li { line-height: 1.7; color: var(--text); font-size: 1.05rem; }

/* Elementos Visuales */
.concept-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 25px 0; }
.concept-card { background: rgba(255,255,255,0.03); border: 1px solid var(--border-color); padding: 20px; border-radius: 16px; transition: transform 0.2s; }
.concept-card:hover { transform: translateY(-5px); background: rgba(255,255,255,0.05); }
.card-icon { font-size: 1.5rem; color: var(--accent2); margin-bottom: 10px; font-weight: bold; font-family: 'Fira Code'; }

.highlight-box {
    background: radial-gradient(circle at center, rgba(155, 93, 229, 0.15), transparent 70%);
    border: 1px solid rgba(155, 93, 229, 0.3);
    border-radius: 16px; padding: 30px; text-align: center; margin: 30px 0;
}
.highlight-formula { font-size: 1.8rem; font-family: 'Times New Roman', serif; margin: 10px 0; text-shadow: 0 0 15px rgba(155,93,229,0.5); }

/* Tabla Glass */
.glass-table-container { background: rgba(0,0,0,0.2); border-radius: 12px; overflow: hidden; margin: 20px 0; }
.glass-table { width: 100%; border-collapse: collapse; }
.glass-table th, .glass-table td { padding: 15px; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.05); }
.glass-table th { background: rgba(255,255,255,0.05); color: var(--accent1); }
.math-cell { font-family: 'Times New Roman', serif; font-size: 1.1rem; color: var(--accent2); }

/* Visualizador de Raíces (Canvas) */
.roots-container {
    display: grid; grid-template-columns: 1fr 1fr; gap: 30px;
    background: rgba(255,255,255,0.02); padding: 30px; border-radius: 20px; border: 1px solid var(--border-color);
}
.controls { display: flex; flex-direction: column; gap: 20px; justify-content: center; }
.input-group { display: flex; flex-direction: column; }
.input-group label { font-family: 'Fira Code'; color: var(--accent2); margin-bottom: 8px; }
.input-row { display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 8px; }
.input-row input { background: transparent; border: none; border-bottom: 2px solid var(--muted); color: white; width: 60px; text-align: center; font-size: 1.1rem; }
.input-row input:focus { outline: none; border-color: var(--accent1); }
.action-btn { 
    background: linear-gradient(135deg, var(--accent2), #00d2ff); border: none; padding: 12px; 
    color: white; border-radius: 8px; cursor: pointer; font-weight: bold; transition: transform 0.2s;
}
.action-btn:hover { transform: scale(1.02); box-shadow: 0 0 15px rgba(10, 132, 255, 0.4); }

.canvas-wrapper { 
    background: #080810; border-radius: 12px; padding: 10px; display: flex; justify-content: center; 
    box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
}
canvas { background: radial-gradient(circle, #1a1a2e 0%, #000 100%); border-radius: 8px; }

@media (max-width: 900px) {
    .page-layout { grid-template-columns: 1fr; }
    .roots-container { grid-template-columns: 1fr; }
}
/* --- NUEVOS ESTILOS PARA SECCIONES DE OPERACIONES --- */

/* Layout para el Conjugado (Texto izquierda, Gráfico derecha) */
.conjugate-layout {
    display: grid;
    grid-template-columns: 1fr 250px;
    gap: 30px;
    align-items: center;
    margin-top: 20px;
}

/* Gráficos Miniatura (Reutilizando la base graph-container) */
.mini-graph {
    height: 200px !important;
    margin: 0 !important;
    background: rgba(0,0,0,0.3);
}

/* Línea punteada conectando conjugados */
.vertical-connect {
    border-left: 2px dashed rgba(255,255,255,0.3);
    height: 80px; /* Distancia manual visual entre los puntos */
    position: absolute;
    top: 6px; left: 5px;
}

/* Layout para Raíces */
.roots-explanation {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 30px;
    align-items: center;
}

/* Círculo Unitario visual */
.unit-circle {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 160px; height: 160px;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 50%;
}

@media (max-width: 768px) {
    .conjugate-layout, .roots-explanation {
        grid-template-columns: 1fr;
    }
    .mini-graph {
        width: 100%;
        max-width: 300px;
        margin: 0 auto !important;
    }
}

/* --- ESTILOS COMPLETOS PARA LA SECCIÓN DEL CONJUGADO --- */

/* 1. Contenedor Principal del Gráfico */
.graph-container {
    position: relative !important; /* Forzamos posicionamiento relativo */
    width: 100%;
    background-color: #080810;
    border: 1px solid var(--border-color);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
}

.mini-graph {
    height: 280px;
    min-width: 280px;
}

/* 2. Rejilla de Fondo */
.graph-grid {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background-image: 
        linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
    background-size: 30px 30px;
}

/* 3. Ejes Centrales */
.axis-line {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.3);
}
.x-axis { width: 100%; height: 2px; top: 50%; left: 0; }
.y-axis { width: 2px; height: 100%; left: 50%; top: 0; }

/* 4. Etiquetas de los Ejes */
.graph-label {
    position: absolute;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    color: var(--muted);
    font-size: 0.9rem;
    z-index: 5;
}
.label-re { right: 15px; top: 52%; } 
.label-im { top: 15px; left: 52%; }  

/* 5. Puntos (Z y Conjugado) */
.graph-point-wrapper {
    position: absolute;
    width: 0; height: 0;
    z-index: 10;
}

/* COORDENADAS EXPLÍCITAS */
.point-z-pos { 
    top: 25%;  /* Equivale a bottom: 75% */
    left: 75%; 
}

.point-conj-pos { 
    top: 75%;  /* Equivale a bottom: 25% (Reflejo exacto) */
    left: 75%; 
} 

.point-dot {
    width: 12px; height: 12px;
    background-color: var(--accent2); /* Azul */
    border-radius: 50%;
    transform: translate(-50%, -50%); /* Centrado perfecto */
    box-shadow: 0 0 10px var(--accent2);
}

.point-label {
    position: absolute;
    font-family: 'Fira Code', monospace;
    font-size: 0.85rem;
    white-space: nowrap;
    color: var(--accent2);
    left: 15px; top: -15px; 
}

/* Estilos específicos del punto conjugado */
.conjugado-dot {
    background-color: var(--accent1); /* Rosa */
    box-shadow: 0 0 10px var(--accent1);
}
.conjugado-label {
    color: var(--accent1);
    top: 5px; /* Etiqueta debajo del punto */
}

/* 6. Línea de Conexión (Espejo) */
.mirror-line {
    position: absolute;
    top: 25%; 
    height: 50%; /* Conecta del 25% al 75% */
    left: 75%;
    border-left: 2px dashed rgba(255,255,255,0.2);
    z-index: 5;
}

/* 7. Flecha decorativa */
.reflection-arrow {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    writing-mode: vertical-rl;
    font-size: 0.75rem;
    color: var(--muted);
    opacity: 0.6;
    font-style: italic;
    letter-spacing: 2px;
}

/* --- ESTILOS GENERALES DE LA SECCIÓN --- */
.concept-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 30px;
}
.concept-card {
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 20px;
}
.card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
.card-icon {
    width: 35px; height: 35px;
    background: rgba(255,255,255,0.1);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-weight: bold; color: var(--accent2);
}

.conjugate-layout {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 30px;
    align-items: center;
}
.highlight-box-small {
    background: rgba(155, 93, 229, 0.08);
    border-left: 3px solid var(--accent1);
    padding: 15px;
    border-radius: 8px;
    margin: 15px 0;
}
.prop-list { margin: 5px 0 0 20px; padding: 0; color: var(--muted); }
.glass-formula-box {
    background: rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    margin-top: 15px;
}

@media (max-width: 800px) {
    .concept-grid, .conjugate-layout { grid-template-columns: 1fr; }
    .mini-graph { width: 100%; max-width: 350px; margin: 0 auto; }
}

/* --- ESTILOS DIDÁCTICOS (SECCIÓN 2.2) --- */

/* 1. Fórmula Colorizada Central */
.didactic-formula-box {
    background: #0d0d12;
    border: 2px solid var(--border-color);
    border-radius: 16px;
    padding: 25px;
    text-align: center;
    margin-bottom: 30px;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
.formula-title {
    position: absolute;
    top: -12px; left: 50%; transform: translateX(-50%);
    background: var(--accent1);
    color: white;
    padding: 2px 15px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.formula-content mjx-container {
    font-size: 2rem !important;
    margin: 15px 0 !important;
}
.formula-legend {
    display: flex;
    justify-content: center;
    gap: 20px;
    font-size: 0.9rem;
    font-family: 'Montserrat', sans-serif;
}

/* 2. Grid de Mecanismos */
.mechanics-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.mechanic-card {
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 20px;
    display: flex;
    flex-direction: column;
}
.mech-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}
.mech-icon {
    font-size: 1.5rem;
    color: var(--text);
}
.stretch-card .mech-icon, .stretch-card h4 { color: #00d2ff; }
.spin-card .mech-icon, .spin-card h4 { color: #ff00ff; }

.math-demo {
    background: rgba(0,0,0,0.3);
    padding: 8px;
    border-radius: 6px;
    text-align: center;
    margin: 10px 0;
    font-family: 'Fira Code', monospace;
    color: var(--muted);
    font-size: 0.9rem;
}

/* --- ANIMACIÓN 1: GRÁFICO DE BARRAS (Growth) --- */
.growth-chart {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 120px;
    margin-top: auto;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
}
.bar-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
}
.bar {
    width: 20px;
    background: #00d2ff;
    border-radius: 4px 4px 0 0;
    box-shadow: 0 0 10px rgba(0, 210, 255, 0.3);
    animation: growBar 2s infinite ease-out;
    transform-origin: bottom;
}
.b1 { height: 20px; opacity: 0.3; animation-delay: 0s; }
.b2 { height: 40px; opacity: 0.6; animation-delay: 0.3s; }
.b3 { height: 80px; opacity: 1;   animation-delay: 0.6s; }

@keyframes growBar {
    0% { transform: scaleY(0); }
    20% { transform: scaleY(1); }
    80% { transform: scaleY(1); }
    100% { transform: scaleY(0); } /* Reset */
}

/* --- ANIMACIÓN 2: RELOJ (Spin) --- */
.clock-visual {
    height: 140px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: auto;
}
.clock-face {
    width: 100px; height: 100px;
    border: 2px solid rgba(255,255,255,0.1);
    border-radius: 50%;
    position: relative;
}
.center-dot {
    position: absolute; top: 50%; left: 50%;
    width: 6px; height: 6px; background: white;
    border-radius: 50%; transform: translate(-50%, -50%);
    z-index: 10;
}

/* Agujas del reloj */
.hand {
    position: absolute;
    bottom: 50%; left: 50%; /* Centro */
    width: 2px;
    background: #ff00ff;
    transform-origin: bottom center;
    border-radius: 2px;
    opacity: 0;
    animation: spinHand 3s infinite cubic-bezier(0.4, 0, 0.2, 1);
}
.h1 { height: 35px; transform: rotate(45deg); opacity: 0.3; animation-delay: 0s; }
.h2 { height: 35px; transform: rotate(90deg); opacity: 0.6; animation-delay: 0.5s; }
.h3 { height: 45px; transform: rotate(135deg); opacity: 1; border-width: 3px; box-shadow: 0 0 8px #ff00ff; animation-delay: 1s; }

@keyframes spinHand {
    0% { opacity: 0; }
    20% { opacity: var(--target-opacity, 1); } /* Truco: usa la opacidad definida en la clase */
    90% { opacity: var(--target-opacity, 1); }
    100% { opacity: 0; }
}
/* Re-forzamos opacidades finales para la animación */
.h1 { --target-opacity: 0.3; }
.h2 { --target-opacity: 0.6; }
.h3 { --target-opacity: 1; }

.clock-labels {
    position: absolute;
    bottom: 0;
    width: 100%;
    text-align: center;
    font-size: 0.75rem;
    font-family: 'Fira Code';
    display: flex; gap: 10px; justify-content: center;
}

/* Resumen final */
.summary-example {
    margin-top: 30px;
    background: rgba(255,255,255,0.05);
    border-left: 4px solid var(--accent1);
    padding: 15px 20px;
    border-radius: 0 12px 12px 0;
    font-size: 0.95rem;
}
.summary-example ol { margin: 10px 0 0 0; padding-left: 20px; color: var(--muted); }
.summary-example li { margin-bottom: 5px; }

@media (max-width: 768px) {
    .mechanics-grid { grid-template-columns: 1fr; }
}

/* --- ESTILOS CORREGIDOS (TEMA CIAN) --- */

.roots-layout {
    display: grid;
    grid-template-columns: 1.1fr 1fr;
    gap: 30px;
    margin-top: 25px;
    align-items: stretch;
}

/* Caja de Fórmula Cian */
.didactic-formula-box.cyan-theme {
    border: 1px solid #00d2ff;
    box-shadow: 0 0 20px rgba(0, 210, 255, 0.1);
    background: rgba(0, 210, 255, 0.02);
}
.didactic-formula-box .formula-title {
    background: #00d2ff;
    color: #000;
    font-weight: 700;
    letter-spacing: 1px;
}
.formula-footer {
    text-align: center;
    color: var(--muted);
    font-size: 0.9rem;
    margin-top: 5px;
    font-style: italic;
}

/* Tarjeta de Procedimiento */
.recipe-card {
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 25px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.recipe-card h4 {
    margin-top: 0;
    color: #00d2ff; /* Cian */
    border-bottom: 1px solid rgba(255,255,255,0.1);
    padding-bottom: 10px;
    margin-bottom: 20px;
    font-size: 1.1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.recipe-list { list-style: none; padding: 0; margin: 0; }
.recipe-list li {
    display: flex;
    gap: 15px;
    margin-bottom: 25px;
    align-items: flex-start;
}
.recipe-list li:last-child { margin-bottom: 0; }

/* Números de paso (Reemplazo de Emojis) */
.step-number {
    background: rgba(0, 210, 255, 0.1);
    color: #00d2ff;
    border: 1px solid rgba(0, 210, 255, 0.3);
    width: 32px; height: 32px;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.9rem;
    font-weight: bold;
    font-family: 'Fira Code', monospace;
    flex-shrink: 0;
    box-shadow: 0 0 10px rgba(0, 210, 255, 0.1);
}

.recipe-list strong { color: #fff; font-size: 1rem; display: block; margin-bottom: 4px; }
.recipe-list div { font-size: 0.95rem; color: var(--muted); line-height: 1.5; }

/* Gráfico de Raíces */
.unit-circle {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 200px; height: 200px;
    border: 1px dashed rgba(255,255,255,0.15);
    border-radius: 50%;
}

.polygon-svg {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 5;
}

.polygon-svg polygon {
    fill: rgba(0, 210, 255, 0.08); /* Relleno Cian sutil */
    stroke: #00d2ff;
    stroke-width: 1.5;
    stroke-dasharray: 4;
    stroke-opacity: 0.8;
}

/* Puntos de las Raíces */
.root-dot {
    width: 10px; height: 10px;
    background: #00d2ff;
    box-shadow: 0 0 12px #00d2ff; /* Glow Cian */
    border-radius: 50%;
}

.root-lbl {
    color: #00d2ff;
    font-weight: bold;
    font-family: 'Times New Roman', serif;
    font-style: italic;
    top: -25px; left: -10px;
    text-shadow: 0 0 5px rgba(0,0,0,0.8);
}

.graph-caption {
    position: absolute; bottom: 10px; width: 100%;
    text-align: center; 
    font-size: 0.8rem; 
    color: #00d2ff; /* Texto Cian */
    font-style: italic;
    opacity: 0.8;
}

/* Ajuste responsive */
@media (max-width: 900px) {
    .roots-layout { grid-template-columns: 1fr; }
}
    </style>
</head>
<body>

<div class="sheet">
    <header class="header">
        <h1 class="title">Números Complejos II</h1>
        <p class="subtitle">Operaciones Avanzadas, Radicación y Aplicaciones en el Mundo Real</p>
    </header>

    <div class="page-layout">
        <aside class="sidebar">
            <nav>
                <ul class="sidebar-nav">
                    <li><a href="#s2-1">1. Operaciones Básicas</a></li>
                    <li><a href="#s2-2">2. Potenciación (De Moivre)</a></li>
                    <li><a href="#s2-3">3. Radicación n-ésima</a></li>
                    <li><a href="#s2-4">4. Aplicaciones Reales</a></li>
                    <li><a href="#s2-5">5. Visualizador de Raíces</a></li>
                </ul>
            </nav>
        </aside>

        <section id="s2-1" class="content-section">
    <h2>1. Operaciones Básicas y el Conjugado</h2>
    <p>La aritmética compleja combina el álgebra con la geometría. Sumar es trasladar vectores, multiplicar es rotarlos, y el conjugado actúa como un espejo.</p>

    <div class="concept-grid">
        <div class="concept-card">
            <div class="card-header">
                <div class="card-icon">+</div>
                <h4>Suma y Resta</h4>
            </div>
            <p>Se opera componente a componente. Geométricamente sigue la <strong>regla del paralelogramo</strong>.</p>
            <div class="math-cell">$$ (a+bi) \pm (c+di) = (a\pm c) + (b\pm d)i $$</div>
        </div>

        <div class="concept-card">
            <div class="card-header">
                <div class="card-icon">×</div>
                <h4>Producto (Geométrico)</h4>
            </div>
            <p>Los módulos se multiplican y los <strong>ángulos se suman</strong>.</p>
            <div class="math-cell">$$ |z_1 z_2| = |z_1| \cdot |z_2| $$</div>
            <div class="math-cell">$$ \text{Arg}(z_1 z_2) = \theta_1 + \theta_2 $$</div>
        </div>
    </div>

    <h3>El Conjugado y la División</h3>
    <div class="conjugate-layout">
        <div class="text-content">
            <p>El conjugado de \(z = a + bi\) es \(\bar{z} = a - bi\). Geométricamente, es una <strong>reflexión</strong> sobre el eje real.</p>
            
            <div class="highlight-box-small">
                <strong>Propiedades Clave:</strong>
                <ul class="prop-list">
                    <li>\( |z| = |\bar{z}| \) (Mismo tamaño)</li>
                    <li>\( z \cdot \bar{z} = |z|^2 \) (Resultado Real Puro)</li>
                </ul>
            </div>

            <p style="margin-top:15px;"><strong>Para Dividir:</strong> Multiplicamos numerador y denominador por el conjugado del denominador.</p>
            
            <div class="glass-formula-box">
                $$ \frac{z_1}{z_2} = \frac{z_1 \cdot \bar{z_2}}{z_2 \cdot \bar{z_2}} = \frac{(ac+bd) + (bc-ad)i}{c^2 + d^2} $$
            </div>
        </div>
        
        <div class="graph-container mini-graph">
            <div class="graph-grid"></div>
            
            <div class="axis-line x-axis"></div>
            <div class="axis-line y-axis"></div>
            
            <span class="graph-label label-re">Re</span>
            <span class="graph-label label-im">Im</span>
            
            <div class="mirror-line"></div>

            <div class="graph-point-wrapper point-z-pos">
                <div class="point-dot"></div>
                <div class="point-label">\(z = a+bi\)</div>
            </div>
            
            <div class="graph-point-wrapper point-conj-pos">
                <div class="point-dot conjugado-dot"></div>
                <div class="point-label conjugado-label">\(\bar{z} = a-bi\)</div>
            </div>

            <div class="reflection-arrow">⤡ Espejo</div>
        </div>
    </div>
</section>


<section id="s2-2" class="content-section">
    <h2>2. Potenciación: La Máquina de De Moivre</h2>
    <p>Olvida la multiplicación de paréntesis infinitos. En el mundo complejo, elevar una potencia es simplemente aplicar dos movimientos físicos: <strong>Estirar</strong> y <strong>Girar</strong>.</p>

    <div class="didactic-formula-box">
        <div class="formula-title">La Regla de Oro</div>
        <div class="formula-content">
            $$ z^n = \color{#00d2ff}{r^n} \ \angle \ \color{#ff00ff}{n \cdot \theta} $$
        </div>
        <div class="formula-legend">
            <span class="legend-item" style="color:#00d2ff;">● El Tamaño se Potencia</span>
            <span class="legend-item" style="color:#ff00ff;">● El Ángulo se Multiplica</span>
        </div>
    </div>

    <div class="mechanics-grid">
        
        <div class="mechanic-card stretch-card">
            <div class="mech-header">
                <div class="mech-icon">⤢</div>
                <h4>1. Estirar (Módulo)</h4>
            </div>
            <p>Si el vector mide 2 y lo elevas al cubo (\(n=3\)), su longitud crece explosivamente.</p>
            <div class="math-demo">$$ 2^3 = 2 \cdot 2 \cdot 2 = 8 $$</div>
            
            <div class="growth-chart">
                <div class="bar-group">
                    <div class="bar b1"></div>
                    <span>\(r\)</span>
                </div>
                <div class="bar-group">
                    <div class="bar b2"></div>
                    <span>\(r^2\)</span>
                </div>
                <div class="bar-group">
                    <div class="bar b3"></div>
                    <span>\(r^3\)</span>
                </div>
            </div>
        </div>

        <div class="mechanic-card spin-card">
            <div class="mech-header">
                <div class="mech-icon">↻</div>
                <h4>2. Girar (Argumento)</h4>
            </div>
            <p>Si el vector está a 45° y lo elevas al cubo, el ángulo se triplica. ¡Gira como un reloj!</p>
            <div class="math-demo">$$ 3 \times 45^\circ = 135^\circ $$</div>

            <div class="clock-visual">
                <div class="clock-face">
                    <div class="sector s1"></div>
                    <div class="sector s2"></div>
                    <div class="sector s3"></div>
                    <div class="hand h1"></div>
                    <div class="hand h2"></div>
                    <div class="hand h3"></div>
                    <div class="center-dot"></div>
                </div>
                <div class="clock-labels">
                    <span style="color:rgba(255,255,255,0.3)">\(\theta\)</span>
                    <span style="color:rgba(255,255,255,0.6)">\(2\theta\)</span>
                    <span style="color:#ff00ff; font-weight:bold;">\(3\theta\)</span>
                </div>
            </div>
        </div>
    </div>

    <div class="summary-example">
        <strong>Ejemplo Real:</strong> Para calcular \((1+i)^{10}\)...
        <ol>
            <li>Pasamos a polar: \(r=\sqrt{2}, \ \theta=45^\circ\)</li>
            <li><strong>Estiramos:</strong> \((\sqrt{2})^{10} = 32\)</li>
            <li><strong>Giramos:</strong> \(10 \times 45^\circ = 450^\circ \rightarrow 90^\circ\) (una vuelta y cuarto)</li>
            <li>Resultado: \(32 \angle 90^\circ\) o \(32i\)</li>
        </ol>
    </div>
</section>

<section id="s2-3" class="content-section">
    <h2>3. Radicación: El Polígono Perfecto</h2>
    <p>En los reales, \(\sqrt[3]{1} = 1\). En los complejos, <strong>todo número tiene \(n\) raíces</strong>. Si calculas la raíz cúbica, obtienes 3 soluciones que se reparten equitativamente en un círculo.</p>

    <div class="didactic-formula-box cyan-theme">
        <div class="formula-title">La Fórmula Maestra</div>
        <div class="formula-content">
            $$ w_k = \sqrt[n]{r} \ \angle \ \left( \frac{\theta}{n} + \frac{360^\circ}{n}k \right) $$
        </div>
        <p class="formula-footer">
            Donde \(k = 0, 1, ..., n-1\) representa cada "salto" angular.
        </p>
    </div>

    <div class="roots-layout">
        <div class="recipe-card">
            <h4>Procedimiento de Radicación</h4>
            <p>Para cortar el círculo complejo en \(n\) partes exactas:</p>
            <ul class="recipe-list">
                <li>
                    <div class="step-number">1</div>
                    <div>
                        <strong>Nuevo Tamaño (Radio):</strong><br>
                        Calcula la raíz n-ésima del módulo: \(\sqrt[n]{r}\).
                    </div>
                </li>
                <li>
                    <div class="step-number">2</div>
                    <div>
                        <strong>Primer Corte (Inicio):</strong><br>
                        Divide el ángulo original entre \(n\) (\(\theta / n\)). Esta es \(w_0\).
                    </div>
                </li>
                <li>
                    <div class="step-number">3</div>
                    <div>
                        <strong>Siguientes Cortes (Saltos):</strong><br>
                        Suma \(360^\circ / n\) repetidamente para hallar el resto.
                    </div>
                </li>
            </ul>
        </div>

        <div class="graph-container mini-graph">
            <div class="graph-grid"></div>
            <div class="unit-circle"></div>
            
            <div class="axis-line x-axis"></div>
            <div class="axis-line y-axis"></div>
            
            <svg class="polygon-svg" viewBox="0 0 300 280" preserveAspectRatio="none">
                <polygon points="250,140 100,53.4 100,226.6" />
            </svg>

            <div class="graph-point-wrapper" style="top: 50%; left: 83%;">
                <div class="point-dot root-dot"></div>
                <div class="point-label root-lbl">\(w_0\)</div>
            </div>
            
            <div class="graph-point-wrapper" style="top: 19%; left: 33%;">
                <div class="point-dot root-dot"></div>
                <div class="point-label root-lbl">\(w_1\)</div>
            </div>
            
            <div class="graph-point-wrapper" style="top: 81%; left: 33%;">
                <div class="point-dot root-dot"></div>
                <div class="point-label root-lbl" style="top:15px;">\(w_2\)</div>
            </div>

            <div class="graph-caption">Ejemplo: Raíces cúbicas de la unidad (\(n=3\))</div>
        </div>
    </div>
</section>

<section id="s2-4" class="content-section">
    <h2>4. Aplicaciones en Ingeniería y Ciencias</h2>
    <p>Más allá de la teoría, los números complejos son la herramienta que hace funcionar nuestro mundo digital y eléctrico.</p>

    <div class="glass-table-container">
        <table class="glass-table">
            <thead>
                <tr>
                    <th>Área</th>
                    <th>Concepto Clave</th>
                    <th>Aplicación Real</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="badge-pol">Ingeniería Eléctrica</span></td>
                    <td class="math-cell">Fasores (\(V\angle\theta\))</td>
                    <td>Análisis de redes de corriente alterna (AC) sin ecuaciones diferenciales complejas.</td>
                </tr>
                <tr>
                    <td><span class="badge-exp">Procesamiento de Señales</span></td>
                    <td class="math-cell">DFT / FFT</td>
                    <td>Compresión de audio (MP3), imágenes (JPEG) y filtros de ruido (Zoom, Dolby).</td>
                </tr>
                <tr>
                    <td><span class="badge-trig">Teoría de Control</span></td>
                    <td class="math-cell">Plano S (Polos y Ceros)</td>
                    <td>Diseño de pilotos automáticos, drones y sistemas estables que no oscilan sin control.</td>
                </tr>
                <tr>
                    <td><span class="badge-bin">Mecánica Cuántica</span></td>
                    <td class="math-cell">Función de Onda (\(\Psi\))</td>
                    <td>Descripción probabilística de partículas subatómicas. Esencial para semiconductores y chips.</td>
                </tr>
            </tbody>
        </table>
    </div>
</section>

        <section id="s2-5" class="content-section">
            <h2>5. Visualizador de Raíces n-ésimas</h2>
            <p>Ingresa un número complejo y el grado de la raíz (n). Observa cómo las soluciones forman un polígono perfecto.</p>

            <div class="roots-container">
                <div class="controls">
                    <div class="input-group">
                        <label>Número Base (a + bi)</label>
                        <div class="input-row">
                            <input type="number" id="root-real" value="1">
                            <span>+</span>
                            <input type="number" id="root-imag" value="0">
                            <span>i</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Grado de la Raíz (n)</label>
                        <div class="input-row">
                            <span>n = </span>
                            <input type="number" id="root-n" value="5" min="2" max="20">
                        </div>
                    </div>

                    <button class="action-btn" onclick="calculateAndDrawRoots()">✨ Calcular y Graficar</button>
                    
                    <div id="roots-info" style="margin-top:10px; font-size:0.9rem; color:var(--muted);">
                        </div>
                </div>

                <div class="canvas-wrapper">
                    <canvas id="rootsCanvas" width="350" height="350"></canvas>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
    // --- LÓGICA DE NAVEGACIÓN ---
    const navLinks = document.querySelectorAll('.sidebar-nav a');
    const sections = document.querySelectorAll('.content-section');

    function showSection(id) {
        sections.forEach(s => s.classList.remove('active'));
        document.querySelector(id).classList.add('active');
        navLinks.forEach(l => {
            l.classList.remove('active');
            if(l.getAttribute('href') === id) l.classList.add('active');
        });
    }

    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            showSection(link.getAttribute('href'));
        });
    });
    showSection('#s2-1'); // Default

    // --- LÓGICA DEL VISUALIZADOR DE RAÍCES ---
    function calculateAndDrawRoots() {
        const real = parseFloat(document.getElementById('root-real').value) || 0;
        const imag = parseFloat(document.getElementById('root-imag').value) || 0;
        const n = parseInt(document.getElementById('root-n').value) || 2;

        const canvas = document.getElementById('rootsCanvas');
        const ctx = canvas.getContext('2d');
        const width = canvas.width;
        const height = canvas.height;
        const cx = width / 2;
        const cy = height / 2;

        // 1. Convertir a Polar
        let r = Math.sqrt(real*real + imag*imag);
        let theta = Math.atan2(imag, real);

        // 2. Calcular Módulo de las raíces
        let r_root = Math.pow(r, 1/n);

        // 3. Limpiar y Preparar Canvas
        ctx.clearRect(0, 0, width, height);
        
        // Ejes
        ctx.strokeStyle = '#333'; ctx.lineWidth = 1;
        ctx.beginPath(); ctx.moveTo(0, cy); ctx.lineTo(width, cy); ctx.stroke();
        ctx.beginPath(); ctx.moveTo(cx, 0); ctx.lineTo(cx, height); ctx.stroke();

        // Escala Automática (para que el círculo ocupe el 80% del canvas)
        // r_root * scale = 140 (aprox radio canvas)
        let scale = r_root > 0 ? 140 / r_root : 1;
        if (r_root === 0) scale = 0;

        // 4. Dibujar Círculo Guía
        ctx.beginPath();
        ctx.arc(cx, cy, r_root * scale, 0, 2 * Math.PI);
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
        ctx.stroke();

        // 5. Calcular y Dibujar Raíces
        const roots = [];
        ctx.fillStyle = '#0a84ff';
        
        for(let k = 0; k < n; k++) {
            // Fórmula de De Moivre para raíces
            let ang = (theta + 2 * Math.PI * k) / n;
            
            let x = cx + (r_root * Math.cos(ang)) * scale;
            let y = cy - (r_root * Math.sin(ang)) * scale; // Y invertido en canvas
            
            roots.push({x, y});

            // Dibujar punto
            ctx.beginPath();
            ctx.arc(x, y, 4, 0, 2*Math.PI);
            ctx.fill();
            
            // Dibujar línea desde el centro
            ctx.strokeStyle = 'rgba(10, 132, 255, 0.3)';
            ctx.beginPath(); ctx.moveTo(cx, cy); ctx.lineTo(x, y); ctx.stroke();
        }

        // 6. Conectar los puntos (Polígono)
        if (n > 2) {
            ctx.strokeStyle = '#9b5de5';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(roots[0].x, roots[0].y);
            for(let i = 1; i < roots.length; i++) {
                ctx.lineTo(roots[i].x, roots[i].y);
            }
            ctx.closePath();
            ctx.stroke();
        }

        // Info texto
        document.getElementById('roots-info').innerHTML = 
            `Módulo de las raíces: <strong>${r_root.toFixed(3)}</strong><br>` +
            `Polígono formado: <strong>${n > 2 ? 'Polígono Regular de '+n+' lados' : (n==2 ? 'Segmento de línea' : 'Punto')}</strong>`;
    }

    // Dibujar inicial
    window.onload = calculateAndDrawRoots;
</script>

</body>
</html>